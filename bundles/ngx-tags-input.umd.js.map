{"version":3,"file":"ngx-tags-input.umd.js.map","sources":["ng://ngx-tags-input/lib/ngx-tags-input.component.ts","ng://ngx-tags-input/lib/ngx-tags-input.module.ts"],"sourcesContent":["import { Component, forwardRef, Input, Output, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { TypeaheadMatch } from 'ngx-bootstrap/typeahead/public_api';\n\nconst noop = () => {};\n\nconst TAGS_INPUT_TEMPLATE = `\n    <div class=\"tags-input\">\n        <span class=\"tags-input__tag label label-primary badge badge-primary\" *ngFor=\"let tag of tags\">\n            {{tag[displayField]}}\n            <span *ngIf=\"isDeleteable(tag)\" role=\"button\" class=\"tags-input__tag-remove-btn\" (click)=\"removeTag(tag)\" (touch)=\"removeTag(tag)\">\n                <span aria-hidden=\"true\">&times;</span>\n                <span class=\"sr-only\">Close</span>\n            </span>\n        </span>\n        <input\n            *ngIf=\"options === null; else withTypeahead\" \n            class=\"tags-input__input-field\" \n            type=\"text\" \n            [placeholder]=\"getPlaceholder()\"\n            name=\"tags\"\n            (keyup)=\"keyDownEvent($event, tagInput)\"\n            (keyup.enter)=\"addTag(tagInput)\" (keydown.backspace)=\"removeLastTag(tagInput)\"\n            [disabled]=\"!canAddTags || maximumOfTagsReached()\"\n            [hidden]=\"!canAddTags || maximumOfTagsReached()\"\n            #tagInput />\n        <ng-template #withTypeahead>\n          <input\n            *ngIf=\"options !== null\" \n            class=\"tags-input__input-field\" \n            type=\"text\" \n            [placeholder]=\"getPlaceholder()\"\n            name=\"tags\"\n            (keydown.backspace)=\"removeLastTag(tagInput)\"\n            [(ngModel)]=\"selected\" \n            [typeahead]=\"options\"\n            [typeaheadOptionField]=\"displayField\"\n            (typeaheadOnSelect)=\"typeaheadOnSelect($event)\"\n            (typeaheadNoResults)=\"typeaheadOnNoMatch($event)\"\n            [typeaheadMinLength]=\"minLengthBeforeOptions\"\n            [typeaheadScrollable]=\"scrollableOptions\"\n            [typeaheadLatinize]=\"true\"\n            [typeaheadOptionsInScrollableView]=\"scrollableOptionsInView\"\n            [disabled]=\"!canAddTags || maximumOfTagsReached()\"\n            [hidden]=\"!canAddTags || maximumOfTagsReached()\"\n            #tagInput />\n        </ng-template>\n    </div>\n`;\n\nconst TAGS_INPUT_STYLE = `\n    :host {\n        overflow: auto;\n        white-space: nowrap;\n    }\n\n    .tags-input {\n        align-items: center;\n        display: flex;\n        flex-wrap: wrap;\n    }\n\n    .tags-input__tag {\n        display: inline-block;\n        margin-bottom: 2px;\n        margin-right: 5px;\n        padding-right: 0.3em;\n    }\n\n    .tags-input__tag-remove-btn {\n        cursor: pointer;\n        display: inline-block;\n        font-size: 12px;\n        margin: -3px 0 0 3px;\n        padding: 0;\n        vertical-align: top;\n    }\n\n    .tags-input__input-field {\n        border: none;\n        flex-grow: 1;\n        outline: none;\n    }\n`;\n\nconst CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => NgxTagsInputComponent),\n  multi: true\n};\n\nexport interface TagsChangedEvent {\n  change: string,\n  tag: any\n}\n\n@Component({\n  selector: 'ngx-tags-input',\n  template: TAGS_INPUT_TEMPLATE,\n  styles: [TAGS_INPUT_STYLE],\n  providers: [CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR]\n})\nexport class NgxTagsInputComponent implements ControlValueAccessor {\n  selected:string = '';\n  public tags: Array<any> = [];\n  private onTouchedCallback: () => void = noop;\n  private onChangeCallback: (_: any) => void = noop;\n\n  @Input() maxTags: number;\n  @Input() removeLastOnBackspace: boolean = false;\n  @Input() canDeleteTags: boolean = true;\n  @Input() canAddTags: boolean = true;\n  @Input() placeholder: string = '';\n  @Input() options: any = null;\n  @Input() displayField: string = 'displayValue';\n  @Input() minLengthBeforeOptions: number = 1;\n  @Input() scrollableOptions: boolean = false;\n  @Input() scrollableOptionsInView: number = 5;\n  @Output() onTagsChanged: EventEmitter<TagsChangedEvent> = new EventEmitter();\n  @Output() onMaxTagsReached: EventEmitter<void> = new EventEmitter();\n  @Output() onNoOptionsMatch: EventEmitter<boolean> = new EventEmitter();\n\n  getPlaceholder(): string {\n    if(this.tags && this.tags.length > 0){\n        return '';\n    }\n    return this.placeholder;\n  }\n\n  private tagsChanged(type: string, tag: any): void {\n      this.onChangeCallback(this.tags);\n      this.onTagsChanged.emit({\n          change: type,\n          tag: tag\n      });\n      if(this.maximumOfTagsReached()){\n          this.onMaxTagsReached.emit();\n      }\n  }\n\n  removeLastTag(tagInput: HTMLInputElement): void {\n      if(!this.removeLastOnBackspace || !this.tags.length) {\n          return;\n      }\n\n      if (tagInput.value === ''){\n          this.removeTag(this.tags[this.tags.length-1]);\n      }\n  }\n\n  addTag(tagInput: HTMLInputElement): void {\n      if (tagInput.value.trim() !== ''){\n          let tag = {\n              [this.displayField]: tagInput.value\n          };\n          this.addPredefinedTag(tag);\n      }\n      tagInput.value = '';\n  }\n\n  keyDownEvent(event: any, tagInput: HTMLInputElement): void {\n      if (event.which === 188) {\n        tagInput.value = tagInput.value.slice(0, -1);\n        this.addTag(tagInput);\n      }\n  }\n\n  private addPredefinedTag(tag: Object): void {\n      if (!this.maximumOfTagsReached()){\n          this.tags.push(tag);\n          this.tagsChanged('add', tag);\n      }\n  }\n\n  removeTag(tagToRemove: any): void {\n      if(!this.isDeleteable(tagToRemove)){\n          return;\n      }\n      this.tags = this.tags.filter(tag => tagToRemove !== tag);\n      this.tagsChanged('remove', tagToRemove);\n  }\n\n  maximumOfTagsReached(): boolean {\n      return typeof this.maxTags !== 'undefined' && this.tags && this.tags.length>=this.maxTags;\n  }\n\n  isDeleteable(tag: any) {\n      if(typeof tag.deleteable !== \"undefined\" && !tag.deleteable){\n          return false;\n      }\n      return this.canDeleteTags;\n  }\n\n  typeaheadOnSelect(e:TypeaheadMatch):void {\n      if(typeof e.item === 'string'){\n          this.addPredefinedTag({\n              [this.displayField]: e.value\n          });\n      }else {\n          this.addPredefinedTag(e.item);\n      }\n      this.selected = '';\n  }\n\n  typeaheadOnNoMatch(e:any):void {\n      if(typeof this.onNoOptionsMatch !== 'undefined'){\n          this.onNoOptionsMatch.emit(e)\n      }\n  }\n\n  writeValue(value: any) {\n      if (value !== this.tags) {\n          this.tags = value;\n      }\n  }\n\n  registerOnChange(fn: any) {\n      this.onChangeCallback = fn;\n  }\n\n  registerOnTouched(fn: any) {\n      this.onTouchedCallback = fn;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgxTagsInputComponent } from './ngx-tags-input.component';\nimport { TypeaheadModule } from 'ngx-bootstrap/typeahead'\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [NgxTagsInputComponent],\n  imports: [\n    FormsModule,\n    CommonModule,\n    TypeaheadModule.forRoot()\n  ],\n  exports: [NgxTagsInputComponent]\n})\nexport class NgxTagsInputModule { }\n"],"names":["NG_VALUE_ACCESSOR","forwardRef","EventEmitter","Component","Input","Output","NgModule","FormsModule","CommonModule","TypeaheadModule"],"mappings":"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"}
